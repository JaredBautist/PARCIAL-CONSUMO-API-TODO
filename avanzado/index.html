<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Todo App (Tailwind)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { brand: { 50:'#eff6ff', 100:'#dbeafe', 600:'#0ea5e9', 700:'#0284c7' } },
          borderRadius: { 'xl':'1rem', '2xl':'1.25rem' }
        }
      }
    }
  </script>
  <!-- Utilidades “tipo componentes” para un look más pro -->
  <style type="text/tailwindcss">
    @layer utilities {
      .container-narrow { @apply max-w-6xl mx-auto p-4; }
      .card { @apply bg-white border border-gray-200 rounded-2xl shadow-sm p-5; }
      .section-title { @apply text-base font-semibold text-gray-900; }
      .muted { @apply text-sm text-gray-500; }

      .label { @apply block text-sm font-medium text-gray-700 mb-1; }
      .input { @apply w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-500; }
      .textarea { @apply input min-h-[96px]; }
      .select { @apply input pr-8; }
      .checkbox { @apply align-middle w-4 h-4 rounded border-gray-300 text-sky-600 focus:ring-sky-500; }

      .btn { @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition shadow-sm; }
      .btn-primary { @apply bg-sky-700 text-white hover:bg-sky-800; }
      .btn-outline { @apply border border-gray-300 text-gray-700 hover:bg-gray-50; }
      .btn-danger { @apply bg-rose-600 text-white hover:bg-rose-700; }

      .segmented { @apply inline-flex rounded-xl bg-white p-1 shadow-sm border border-gray-200; }
      .seg-btn { @apply px-4 py-2 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100; }
      .seg-btn-active { @apply bg-sky-700 text-white hover:bg-sky-700; }

      .table { @apply w-full text-left border-collapse; }
      .th { @apply px-3 py-2 text-gray-600 border-b border-gray-200; }
      .td { @apply px-3 py-2 border-b border-gray-100; }

      .grid-form { @apply grid grid-cols-1 md:grid-cols-3 gap-3; }
      .grid-row { @apply grid grid-cols-1 md:grid-cols-2 gap-3; }
      .pre { @apply border border-gray-200 rounded-xl bg-gray-50 p-3 max-h-80 overflow-auto text-sm; }
    }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Header -->
  <header class="bg-sky-700 text-white">
    <div class="container-narrow py-5">
      <h1 class="text-xl font-semibold">Todo App (Tailwind)</h1>
    </div>
  </header>

  <main class="container-narrow">
    <!-- Selector de operación -->
    <div class="card mb-4">
      <p class="font-semibold mb-2">Operación</p>
      <div class="segmented">
        <button id="btn-tab-get" class="seg-btn seg-btn-active">GET</button>
        <button id="btn-tab-post" class="seg-btn">POST</button>
        <button id="btn-tab-put" class="seg-btn">PUT</button>
        <button id="btn-tab-delete" class="seg-btn">DELETE</button>
      </div>
    </div>

    <!-- GET -->
    <section id="tab-get" class="card mb-4 op-tab">
      <h3 class="section-title mb-3">GET /Todos</h3>

      <div class="grid-row items-end">
        <button id="btn-get-all" class="btn btn-primary w-fit">Listar todos</button>

        <div class="grid grid-cols-2 gap-2">
          <div>
            <label class="label" for="get-id">GET /Todos/{id}</label>
            <input id="get-id" class="input" placeholder="ID">
          </div>
          <div class="flex items-end">
            <button id="btn-get-byid" class="btn btn-outline w-full md:w-fit">Consultar ID</button>
          </div>
        </div>
      </div>

    </section>

    <!-- POST -->
    <section id="tab-post" class="card mb-4 op-tab hidden">
      <h3 class="section-title mb-3">POST /Todos</h3>
      <form id="form-post" class="grid-form">
        <div><label class="label" for="post-title">Título</label><input id="post-title" class="input" required></div>
        <div class="md:col-span-2"><label class="label" for="post-description">Descripción</label><textarea id="post-description" class="textarea"></textarea></div>
        <div><label class="label" for="post-priority">Prioridad</label><select id="post-priority" class="select"><option>1</option><option>2</option><option selected>3</option></select></div>
        <div><label class="label" for="post-due">Fecha límite</label><input id="post-due" type="datetime-local" class="input"></div>
        <div><label class="label" for="post-completed">Completada</label><input id="post-completed" type="checkbox" class="checkbox ml-1"></div>
        <div><button class="btn btn-primary" type="submit">Crear</button></div>
      </form>
    </section>

    <!-- PUT -->
    <section id="tab-put" class="card mb-4 op-tab hidden">
      <h3 class="section-title mb-3">PUT /Todos/{id}</h3>
      <form id="form-put" class="grid-form">
        <div><label class="label" for="put-id">ID</label><input id="put-id" class="input" required></div>
        <div><label class="label" for="put-title">Título</label><input id="put-title" class="input" required></div>
        <div class="md:col-span-2"><label class="label" for="put-description">Descripción</label><textarea id="put-description" class="textarea"></textarea></div>
        <div><label class="label" for="put-priority">Prioridad</label><select id="put-priority" class="select"><option>1</option><option>2</option><option selected>3</option></select></div>
        <div><label class="label" for="put-due">Fecha límite</label><input id="put-due" type="datetime-local" class="input"></div>
        <div><label class="label" for="put-completed">Completada</label><input id="put-completed" type="checkbox" class="checkbox ml-1"></div>
        <div><button class="btn btn-primary" type="submit">Actualizar</button></div>
      </form>
    </section>

    <!-- DELETE -->
    <section id="tab-delete" class="card mb-4 op-tab hidden">
      <h3 class="section-title mb-3">DELETE /Todos/{id}</h3>
      <form id="form-delete" class="grid-form">
        <div><label class="label" for="delete-id">ID</label><input id="delete-id" class="input" required></div>
        <div><button class="btn btn-danger" type="submit">Eliminar</button></div>
      </form>
    </section>

    <!-- Panel JSON -->
    <section class="card mb-4">
      <h3 class="section-title mb-3">Panel de Respuestas (JSON)</h3>
      <div class="grid-row">
        <div>
          <p class="label">Última solicitud</p>
          <pre id="req-json" class="pre"></pre>
        </div>
        <div>
          <p class="label">Última respuesta</p>
          <pre id="res-json" class="pre"></pre>
        </div>
      </div>
    </section>


  </main>

  <script src="script.js"></script>
  <script>
    // Tabs + estado visual del control segmentado
    function setActive(btnId){
      document.querySelectorAll('.seg-btn').forEach(b=>b.classList.remove('seg-btn-active'));
      document.getElementById(btnId).classList.add('seg-btn-active');
    }
    const showTab = (t)=>{ document.querySelectorAll('.op-tab').forEach(x=>x.classList.add('hidden')); document.getElementById('tab-'+t).classList.remove('hidden'); };
    document.getElementById('btn-tab-get').onclick = ()=>{ showTab('get'); setActive('btn-tab-get'); };
    document.getElementById('btn-tab-post').onclick= ()=>{ showTab('post'); setActive('btn-tab-post'); };
    document.getElementById('btn-tab-put').onclick = ()=>{ showTab('put'); setActive('btn-tab-put'); };
    document.getElementById('btn-tab-delete').onclick=()=>{ showTab('delete'); setActive('btn-tab-delete'); };
  </script>
</body>
</html>
